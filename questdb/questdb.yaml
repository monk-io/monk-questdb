namespace: questdb


questdb:
  defines: runnable
  metadata:
    defines: metadata
    name: QuestDB
    description: 
    tags: database, sql
    website: https://questdb.io/
    source: https://github.com/questdb/questdb
    publisher: "monk.io"
    icon: https://questdb.io/img/questdb-logo-themed.svg
  services:
    questdb-9000:
      container: questdb
      port: 9000
      protocol: tcp
      host-port: 9000
    questdb-9009:
      container: questdb
      port: 9009
      protocol: tcp
      host-port: 9009 
    questdb-8812:
      container: questdb
      port: 8812
      protocol: tcp
      host-port: 8812 
    questdb-9003:
      container: questdb
      port: 9003
      protocol: tcp
      host-port: 9003                   
  containers:
    defines: containers
    questdb:  
      image: questdb/questdb
      image-tag: <- `${questdb-image}`
      ports:
      - 9000:9000
      - 9009:9009
      - 8812:8812
      - 9003:9003
      paths:
        - <- `${monk-volume-path}/questdb/db:/var/lib/questdb/db`
  files:
    server-config:
      container: questdb
      mode: 0644
      path: /var/lib/questdb/conf/log.conf
      contents: <<< files/log.conf
    logging-config:
      container: questdb
      mode: 0644
      path: /var/lib/questdb/conf/server.conf
      contents: <<< files/server.conf
  variables:
    defines: variables
    questdb-image:
      value: <- $questdb-image-tag
      type: string